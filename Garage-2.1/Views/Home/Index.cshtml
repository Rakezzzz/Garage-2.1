@model IEnumerable<Garage_2._1.Models.Parkingspot>

@{
    ViewBag.Title = "Index";
}

<h2>Index</h2>

<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.ParkId)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.TimeOfRental)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.RentalTime)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.ParkedVehicle.Type)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.ParkedVehicle.RegNum)
        </th>
    </tr>

    @foreach (var item in Model)
    {
        <tr><td>
                @Html.DisplayFor(modelItem => item.ParkId)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.TimeOfRental)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.RentalTime)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.ParkedVehicle.Type)
            </td>

            <td>
                @Html.DisplayFor(modelItem => item.ParkedVehicle.RegNum)
            </td>
            <td>
                @if (item.Renter == null)
                {
                    @Html.ActionLink("Rent Spot", "RentSpot", new {id = item.ParkId})
                }
                else
                {
                    if (item.ParkedVehicle != null)
                    {
                        @Html.ActionLink("Edit ", "EditVehicle", new {id = item.ParkId})
                        @Html.ActionLink("Leave ", "Leave", new {id = item.ParkId})
                        @Html.ActionLink("Evict ", "Eviction", new {id = item.ParkId})
                    }
                    else
                    {
                        @Html.ActionLink("Park Vehicle", "ParkVehicle", new {id = item.ParkId})
                    }
                }


            </td>
        </tr>
    }

</table>
